#!/bin/sh
#********************************************************************************
# Configure script of eQmail-1.10
#
# Beware of the order of checks!
#********************************************************************************
cd `dirname $0`
echo Act. Dir: `pwd`

CRITICAL=""

echo -n "Checking system ... "
OS=`uname -s | tr '/:[A-Z]' '..[a-z]'` ; echo -n $OS > systype
echo "building on "${OS}"!"
echo -n "Checking architecture ... "
ARCH=`uname -m` ; echo -n ":$ARCH" >> systype
echo "build on "${ARCH}"!"

#********************************************************************************
# check for external system tools
. configure.in/exttools.inc

#********************************************************************************
# Checking conf-* files
#. cfg/conf-files.inc

#********************************************************************************
# Check (open)ssl headers
. configure.in/sslheaders.inc
#exit

#********************************************************************************
# Create compile, load, makelib
. configure.in/buildtools.inc

#********************************************************************************
# Checking for shared libraries
. configure.in/systemlibs.inc

#********************************************************************************
# user/group id's, builtin's and save temporarily
#. configure.in/compiled-in.inc
#. configure.in/qmail-ids
[ -f "configure.in/package.inc" ] && source configure.in/package.inc
. configure.in/save-conf.inc
#********************************************************************************
echo
if [ "$CRITICAL" ] ; then
   printf "\033[1m""Critical:$CRITICAL not found!""\033[0m\n"
#   exit 1
 else
   echo "Done! Now run make."
fi
